<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Love Story - Time, Tides & Memories</title>
    <!-- This is the corrected Tailwind link -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* Add keyframes for the gradient animation */
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(-45deg, #fff0f5, #ffe4e1, #fff8f8, #fce7f3);
            background-size: 400% 400%;
            animation: gradient-animation 20s ease infinite;
            overflow-x: hidden; /* Prevent horizontal scroll */
            position: relative; /* For confetti and sparkles */
        }
        .title-font {
            font-family: 'Dancing Script', cursive;
        }

        /* Floating hearts animation */
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }
        .heart {
            position: fixed;
            top: 0;
            color: #F472B6; /* Pink color for hearts */
            animation: fall 10s linear infinite;
            font-size: 24px;
            pointer-events: none; /* Make hearts unclickable */
            z-index: 9999;
        }

        /* Moon Feature CSS */
        .moon-date-input { /* Changed to class for multiple inputs */
            border: 2px solid #FBCFE8; /* Light pink border */
            padding: 0.5rem 1rem;
            border-radius: 99px; /* Full pill shape */
            font-family: 'Nunito', sans-serif;
            color: #DB2777; /* Dark pink text */
            outline: none;
            transition: all 0.3s;
        }
        .moon-date-input:focus {
            border-color: #F472B6; /* Brighter pink on focus */
            box-shadow: 0 0 10px #FBCFE8;
        }
        .moon-date-input::-webkit-calendar-picker-indicator {
            cursor: pointer;
            filter: invert(50%) sepia(50%) saturate(5000%) hue-rotate(300deg);
        }

        /* Polaroid Grid CSS */
        .polaroid {
            background: white;
            padding: 1rem;
            padding-bottom: 3.5rem; /* Space for caption */
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            position: relative;
            break-inside: avoid; /* Prevents breaking inside a column */
            margin-bottom: 1.5rem; /* Space between polaroids */
            border-radius: 4px;
        }
        .polaroid:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            z-index: 10;
        }
        .polaroid img {
            width: 100%;
            height: auto; /* Maintain aspect ratio */
            object-fit: cover;
            border-radius: 2px;
            border: 1px solid #fce7f3; /* Faint pink border on image */
        }
        .polaroid-caption {
            position: absolute;
            bottom: 0.75rem;
            left: 1rem;
            right: 1rem;
            text-align: center;
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: #E11D48; /* Hot pink color for caption */
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        /* --- Confetti CSS --- */
        @keyframes confetti-fall {
            0% { transform: translateY(-100%) rotateZ(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotateZ(720deg); opacity: 0; }
        }
        .confetti {
            position: fixed;
            top: -20px;
            width: 10px;
            height: 10px;
            background-color: #fca5a5; /* Light pink */
            animation: confetti-fall var(--duration) linear infinite;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1000;
        }
        .confetti.square {
            border-radius: 0;
            background-color: #fda4af; /* Medium pink */
        }
        .confetti.triangle {
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-bottom: 10px solid #fb7185; /* Darker pink */
            background-color: transparent;
        }

        /* --- Sparkle CSS --- */
        @keyframes twinkle {
            0% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
            100% { opacity: 0.5; transform: scale(1); }
        }
        .sparkle {
            position: fixed;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            pointer-events: none;
            box-shadow: 0 0 5px 3px rgba(255, 255, 255, 0.6);
            animation: twinkle var(--sparkle-duration) ease-in-out infinite;
            z-index: 100;
        }

        /* --- Love Letter Modal CSS --- */
        #love-letter-modal {
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            background: linear-gradient(145deg, #fff8f8, #fff0f5);
            border: 2px solid #fbcfe8;
            transform: scale(0.95);
            opacity: 0;
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }
        #love-letter-modal:not(.hidden) .modal-content {
            transform: scale(1);
            opacity: 1;
        }
        .modal-close-btn {
            background-color: #fce7f3;
            color: #db2777;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            transition: all 0.2s ease-in-out;
        }
        .modal-close-btn:hover {
            background-color: #fbcfe8;
            transform: rotate(90deg) scale(1.1);
        }
        .letter-text {
            line-height: 1.75;
            color: #be185d;
        }
        .letter-text::first-letter {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #e11d48;
            float: left;
            line-height: 1;
            margin-right: 0.5rem;
            margin-top: 0.25rem;
        }

        /* --- Bucket List CSS --- */
        .bucket-list li {
            position: relative;
            padding-left: 2.5rem; /* Space for custom icon */
            font-size: 1.125rem; /* 18px */
            padding-bottom: 1rem;
            color: #831843;
        }
        .bucket-list li::before {
            content: '♡'; /* Heart icon */
            position: absolute;
            left: 0;
            top: 0;
            font-family: 'Dancing Script', cursive;
            color: #e11d48;
            font-size: 1.75rem; /* 28px */
            line-height: 1;
        }

        /* --- Timeline CSS --- */
        .timeline-container {
            position: relative;
            padding-left: 2rem; /* Space for the line and dots */
        }
        /* The vertical line */
        .timeline-container::before {
            content: '';
            position: absolute;
            left: 10px; /* Aligns with the center of the dot */
            top: 10px;
            bottom: 10px;
            width: 4px;
            background: #fbcfe8; /* Light pink line */
            border-radius: 2px;
        }
        .timeline-item {
            position: relative;
            margin-bottom: 1.5rem; /* 24px */
        }
        /* Last item should not have margin */
        .timeline-item:last-child {
            margin-bottom: 0;
        }
        .timeline-dot {
            position: absolute;
            left: -1px; /* (10px line width / 2) - (16px dot width / 2) */
            top: 8px;
            width: 16px;
            height: 16px;
            background: #e11d48; /* Hot pink */
            border: 3px solid white;
            border-radius: 50%;
            z-index: 10;
        }
        .timeline-content {
            background: #fff8f8;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            border: 1px solid #fce7f3;
        }
        .timeline-date {
            font-size: 0.875rem; /* 14px */
            font-weight: 600;
            color: #db2777;
        }
        .timeline-title {
            font-size: 1.25rem; /* 20px */
            font-family: 'Dancing Script', cursive;
            color: #831843;
            margin-top: 0.25rem;
        }
        .timeline-desc {
            font-size: 0.875rem;
            color: #be185d;
            margin-top: 0.25rem;
        }

        /* --- Little Things Counter CSS --- */
        .counter-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: #fff8f8;
            padding: 1rem;
            border-radius: 12px;
            border: 1px solid #fce7f3;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        .counter-number {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem; /* 40px */
            color: #e11d48;
            line-height: 1.1;
            /* Allow text wrapping for longer content */
            word-break: break-word;
            hyphens: auto;
        }
        .counter-label {
            font-size: 0.875rem; /* 14px */
            color: #831843;
            margin-top: 0.25rem;
        }

        /* --- Anniversary Message GIF CSS --- */
        @keyframes pulse-grow {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        #anniversary-message {
            display: flex;
            flex-direction: column; /* Stack image and text */
            align-items: center;
            justify-content: center;
            gap: 0.5rem; /* Space between gif and text */
            margin-top: 3rem;
            text-align: center;
            padding: 1.5rem;
            background: linear-gradient(45deg, #fff0f5, #ffe4e1);
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(236, 72, 153, 0.2); /* Pink shadow */
            max-width: fit-content; /* Adjust to content */
            margin-left: auto;
            margin-right: auto;
            border: 2px solid #fbcfe8;
            animation: pulse-grow 2s infinite ease-in-out;
        }
        #anniversary-message img {
            width: 80px; /* Adjust size as needed */
            height: auto;
        }
        #anniversary-message p {
            font-family: 'Dancing Script', cursive;
            font-size: 2.25rem; /* text-4xl */
            color: #E11D48; /* Hot pink */
            line-height: 1.2;
        }

        /* --- Special Place Map CSS --- */
        #special-place-map iframe {
            border-radius: 12px;
            border: 2px solid #fbcfe8;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            width: 100%; /* Make map responsive */
            aspect-ratio: 16 / 9; /* Maintain aspect ratio */
            max-width: 600px; /* Optional max width */
            margin-left: auto;
            margin-right: auto;
        }

    </style>
</head>
<body class="text-gray-700">

    <!-- Container for floating elements (hearts, confetti, sparkles) --><div id="animation-container" class="absolute inset-0 overflow-hidden pointer-events-none"></div>

    <!-- Heart Icon for SVG use --><svg class="hidden">
        <symbol id="icon-heart" viewBox="0 0 24 24">
            <path fill="currentColor" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
        </symbol>
    </svg>

    <div class="container mx-auto px-4 py-8 md:py-12 relative z-10">

        <header class="text-center mb-10">
            <h1 class="title-font text-5xl md:text-7xl text-pink-500">Our Love Story</h1>
            <p class="text-lg text-gray-500 mt-2">Time, Tides & Memories</p>

            <!-- === TIME TOGETHER COUNTER (Unchanged) === --><div class="mt-8">
                <p class="text-lg text-gray-600">Our time together:</p>
                <h2 id="love-timer" class="text-3xl md:text-4xl font-semibold text-pink-600 mt-1" style="font-family: 'Nunito', sans-serif;">
                    Loading...
                </h2>
            </div>

            <!-- === LOVE LETTER BUTTON === -->
            <div class="mt-8">
                <button id="open-letter-btn" class="inline-flex items-center gap-3 bg-pink-500 text-white font-semibold px-8 py-3 rounded-full cursor-pointer shadow-lg hover:bg-pink-600 transition-all duration-300 transform hover:scale-105">
                    <svg class="w-6 h-6 animate-pulse"><use xlink:href="#icon-heart"></use></svg>
                    <span>A Letter For My Love</span>
                </button>
            </div>
            <!-- === END LOVE LETTER BUTTON === -->

        </header>

        <!-- === MOON PHASE FEATURE (MODIFIED FOR TWO PICKERS) === --><section class="text-center mb-12 flex flex-col justify-center items-center gap-6 bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-lg border border-pink-100">
            <h3 class="title-font text-3xl text-pink-500">Moon Phase Finder</h3>
            <p class="text-gray-600">Compare moon phases for two different dates!</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-2xl">
                <!-- Moon Date Picker 1 --><div class="flex flex-col items-center gap-2">
                    <label for="moon-date-input-1" class="text-lg text-gray-700">Date 1:</label>
                    <input type="date" id="moon-date-input-1" class="moon-date-input">
                    <div id="moon-result-1" class="mt-2 text-center h-28"></div>
                </div>

                <!-- Moon Date Picker 2 --><div class="flex flex-col items-center gap-2">
                    <label for="moon-date-input-2" class="text-lg text-gray-700">Date 2:</label>
                    <input type="date" id="moon-date-input-2" class="moon-date-input">
                    <div id="moon-result-2" class="mt-2 text-center h-28"></div>
                </div>
            </div>

            <button id="moon-check-btn" class="inline-flex items-center gap-3 bg-pink-400 text-white font-semibold px-8 py-3 rounded-full cursor-pointer shadow-lg hover:bg-pink-500 transition-all duration-300 transform hover:scale-105">
                <svg class="w-6 h-6"><use xlink:href="#icon-heart"></use></svg>
                <span>Check Moon Phases</span>
            </button>
        </section>

        <!-- === BUCKET LIST SECTION === -->
        <section class="mb-12 flex flex-col justify-center items-center gap-6 bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-lg border border-pink-100">
            <h3 class="title-font text-3xl text-pink-500">Our Next Adventures</h3>
            <p class="text-gray-600">A few things I can't wait to do with you...</p>
            <ul class="bucket-list mt-4 text-left max-w-md w-full">
                <li>Go on a date in Hayes without being in fear of being spotted</li>
                <li>Try to cook together, and when i get food posioning, watch you cook.</li>
                <li>Go to a new country together, basically anywhere but sri lanka</li>
                <li>Go shopping together.</li>
                <li>Go back to the fields for nostalgia.</li>
                <li>Boing Boing Boing 😏.</li>
            </ul>
        </section>
        <!-- === END BUCKET LIST SECTION === -->

        <!-- === TIMELINE SECTION === -->
        <section id="love-timeline" class="mb-12 flex flex-col justify-center items-center gap-6 bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-lg border border-pink-100">
            <h3 class="title-font text-3xl text-pink-500">A Timeline of Our Love</h3>
            <div class="timeline-container mt-4 w-full max-w-md">
                <!-- Timeline Item 1 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <p class="timeline-date">November 20, 2024</p>
                        <h4 class="timeline-title">Our Story Began</h4>
                        <p class="timeline-desc">The day it all started... ❤️</p>
                    </div>
                </div>
                <!-- Timeline Item 2 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <p class="timeline-date">November 21, 2024</p>
                        <h4 class="timeline-title">MY 18TH Birthday!!1</h4>
                        <p class="timeline-desc">The day i became a pedo.. ❤️</p>
                    </div>
                </div>
                <!-- Timeline Item 4 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <p class="timeline-date">April 11, 2025</p>
                        <h4 class="timeline-title">MY LIL SHEILASS 18th</h4>
                        <p class="timeline-desc">MY LIL ADULT PRO MAX AWW! ❤️</p>
                    </div>
                </div>
                <!-- Timeline Item 5 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <p class="timeline-date">June 24, 2025</p>
                        <h4 class="timeline-title">PROM!</h4>
                        <p class="timeline-desc">That unforgettable night.</p>
                    </div>
                </div>
                  <!-- Timeline Item 6 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <p class="timeline-date">May 20 2025</p>
                        <h4 class="timeline-title">OUR 6 MONTHS!</h4>
                        <p class="timeline-desc">Thats when it clicked!</p>
                    </div>
                </div>
                <!-- Timeline Item 7 -->
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <p class="timeline-date">November 20, 2025</p>
                        <h4 class="timeline-title">Our 1 Year Anniversary</h4>
                        <p class="timeline-desc">And so many more to come!</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- === END TIMELINE SECTION === -->

        <!-- === LITTLE THINGS COUNTER === -->
        <section id="little-things" class="mb-12 flex flex-col justify-center items-center gap-6 bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-lg border border-pink-100">
            <h3 class="title-font text-3xl text-pink-500">Just a Few Little Things...</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-4 w-full max-w-lg">
                <!-- Counter Item 1 -->
                <div class="counter-item">
                    <span class="counter-number">1, for now enthirun was too funny</span>
                    <span class="counter-label">Movies Watched</span>
                </div>
                <!-- Counter Item 2 -->
                <div class="counter-item">
                    <span class="counter-number">Not enough</span>
                    <span class="counter-label">Buldak Shared</span>
                </div>
                <!-- Counter Item 3 -->
                <div class="counter-item">
                    <span class="counter-number">1, but more incoming</span>
                    <span class="counter-label">Stolen Hoodies 😉</span>
                </div>
                <!-- Counter Item 4 -->
                <div class="counter-item">
                    <span class="counter-number">∞</span>
                    <span class="counter-label">Laughs & Smiles</span>
                </div>
                <!-- Counter Item 5 -->
                <div class="counter-item">
                    <span class="counter-number">∞</span>
                    <span class="counter-label">"Just say you hate me" said</span>
                </div>
                <!-- Counter Item 6 -->
                <div class="counter-item">
                    <span class="counter-number">ฅ˙Ⱉ˙ฅ rawr!</span>
                    <span class="counter-label">GRRRRRRR</span>
                </div>
                <!-- Counter Item 7 -->
                <div class="counter-item">
                    <span class="counter-number">0 🥺</span>
                    <span class="counter-label">Amount of times i have been invited to any events at auntys house</span>
                </div>
                <!-- Counter Item 8 -->
                <div class="counter-item">
                    <span class="counter-number">Not enough</span>
                    <span class="counter-label">Phone calls</span>
                </div>
            </div>
        </section>
        <!-- === END LITTLE THINGS COUNTER === -->

        <!-- === SPECIAL PLACE MAP SECTION (Updated Map) === -->
        <section id="special-place-map" class="mb-12 flex flex-col justify-center items-center gap-6 bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-lg border border-pink-100">
            <h3 class="title-font text-3xl text-pink-500">Our Special Place</h3>
            <p class="text-gray-600">The theory test centre... maybe not *that* special, but memorable! 😉</p>

            <!-- Updated iframe src -->
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2481.2708660673616!2d-0.48036122241007184!3d51.544932007959545!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x48766fdc724ee11b%3A0x3a87919af11f233d!2sDVSA%20Theory%20Test%20Centre.!5e0!3m2!1sen!2suk!4v1761590734762!5m2!1sen!2suk"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </section>
        <!-- === END SPECIAL PLACE MAP SECTION === -->


        <!-- === "MASSIVE GRID" PHOTO GALLERY === -->
        <main class="mt-16">
            <h2 class="title-font text-4xl text-pink-500 text-center mb-10">Our Memory Lane</h2>

            <div id="memory-grid" class="columns-1 sm:columns-2 md:columns-3 lg:columns-4 gap-6">

                <div id="gallery-placeholder" class="col-span-full text-center py-20 text-gray-400" style="display: none;">
                    <p class="text-2xl title-font">Your memories will appear here...</p>
                    <p>Edit the script to add your first photo!</p>
                </div>

                <!-- Photos will be added here by JavaScript --></div>
        </main>
        <!-- === END OF PHOTO GALLERY === -->

         <!-- === ANNIVERSARY MESSAGE GIF SECTION === -->
        <div id="anniversary-message">
            <!-- Replace this GIF URL with your chosen cutesy heart GIF! -->
            <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExZmZ4Mm5ranBhbnB3bDM5Y3V4bG16d2dpamo3bTFieTZyNDM4OHA3aiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/F3OHH5KL7po9qfHOJc/giphy.gif" alt="Cutesy Heart">
            <p>Happy 1 Year Anniversary, Bubs!</p>
        </div>
        <!-- === END OF ANNIVERSARY MESSAGE === -->


        <footer class="text-center mt-16 py-6 border-t border-pink-100">
             <p class="text-pink-400 title-font text-2xl">Always & Forever</p>
        </footer>
    </div>

    <!-- === LOVE LETTER MODAL HTML === -->
    <div id="love-letter-modal" class="fixed inset-0 w-full h-full flex items-center justify-center z-[100] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <!-- Overlay -->
        <div id="modal-overlay" class="modal-overlay fixed inset-0 w-full h-full"></div>

        <!-- Modal Content -->
        <div class="modal-content relative w-11/12 max-w-2xl p-6 sm:p-10 rounded-2xl shadow-2xl overflow-y-auto" style="max-height: 90vh;">
            <!-- Close Button -->
            <button id="close-letter-btn" class="modal-close-btn absolute top-4 right-4" aria-label="Close letter">
                &times;
            </button>

            <!-- Letter Title -->
            <h2 id="modal-title" class="title-font text-4xl text-pink-500 text-center mb-6">To My LIL SHEILAAAAA!,</h2>

            <!-- Letter Body: Your personalized text -->
            <p class="letter-text text-lg">
                Bubs, I just wanted to start off by saying, i love you more.😊 Anyways, I just wanted to make this lil page to remind you of some of the memories we had together and we will obviously update this with more memories we make together.
                <br><br>
                Remembering all our prior interactions before we started dating always made me laugh, almost all interactions ( IM SORRY OKAY 😭 ). I have never gotten close with anyone like i am with you ( Dont tell kausic, you will piss him off 🤣 ). But ye, being around you always felt so simple, it was as if i never had to try be someone im not, and ever since we've started dating, its only been easier to speak my mind and be myself. Loving you is the most rewarding thing i have ever done, and I can't wait to carry on loving you, (In more then one way 😏)
                <br><br>
                Remember all our calls from before we started dating, and we would always talk about the dumbest stuff together. Our lil convos were the highlights of my days, and theres no one else i would rather ask my silly and dumb questions, my lil bubs 😘. (Remember when we talked about why the sky was blue 🤣, idk if you remember, but it was one of the odd convos we remember)
                <br><br>
                Thank you for being you. Thank you for choosing me, every single day. I love you more than all the confetti on this page, more than all the phases of the moon. Happy 1 year anniversary!🎉🎉🎉
                <br><br>
                From your,
                <br>
                <span class="title-font text-3xl text-pink-600">Lil Bubs</span>
            </p>
        </div>
    </div>
    <!-- === END LOVE LETTER MODAL === -->


    <script>
        // ##################################################################
        // ### YOUR PERSONALIZED PHOTO LIST ###
        // ##################################################################
        const ourMemoriesData = [
            { image: "https://i.postimg.cc/NFbV91GK/20250624-202537.jpg", caption: "PROM!!" },
            { image: "https://i.postimg.cc/gcK1TPVK/20250209-102048.jpg", caption: "Beach Trip" },
            { image: "https://i.postimg.cc/wMFPyhqZ/20250122-155915.jpg", caption: "B&M!!" },
            { image: "https://i.postimg.cc/bwZMrDKW/20250927-111513.jpg", caption: "First Night Over" },
            { image: "https://i.postimg.cc/SRV52WQX/20250624-212221.jpg", caption: "MY Lil Bubs" },
            { image: "https://i.postimg.cc/T1QSLr2p/20250624-205657.jpg", caption: "Just Us" },
        ];
        // ##################################################################

        const animationContainer = document.getElementById('animation-container');

        // --- === LOVE LETTER MODAL LOGIC === ---
        const openLetterBtn = document.getElementById('open-letter-btn');
        const closeLetterBtn = document.getElementById('close-letter-btn');
        const loveLetterModal = document.getElementById('love-letter-modal');
        const modalOverlay = document.getElementById('modal-overlay');

        function openLetter() {
            loveLetterModal.classList.remove('hidden');
        }
        function closeLetter() {
            loveLetterModal.classList.add('hidden');
        }

        openLetterBtn.addEventListener('click', openLetter);
        closeLetterBtn.addEventListener('click', closeLetter);
        modalOverlay.addEventListener('click', closeLetter);

        // --- === COUNT-UP TIMER LOGIC (Fixed typo) === ---
        const loveStartDate = new Date("Nov 20, 2024 15:30:00").getTime(); // SET YOUR START DATE
        const timerDisplayElement = document.getElementById('love-timer');

        function updateLoveTimer() {
            const now = new Date().getTime();
            const distance = now - loveStartDate;
            // Fixed typo: 1G000 -> 1000
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            const fDays = String(days).padStart(2, '0');
            const fHours = String(hours).padStart(2, '0');
            const fMinutes = String(minutes).padStart(2, '0');
            const fSeconds = String(seconds).padStart(2, '0');
            if (timerDisplayElement) {
                timerDisplayElement.innerHTML = `${fDays}d ${fHours}h ${fMinutes}m ${fSeconds}s`;
            }
        }
        setInterval(updateLoveTimer, 1000);
        updateLoveTimer();

        // --- === MOON PHASE LOGIC (Fixed typos) === ---
        const moonDateInput1 = document.getElementById('moon-date-input-1');
        const moonDateInput2 = document.getElementById('moon-date-input-2');
        const moonCheckBtn = document.getElementById('moon-check-btn');
        const moonResult1El = document.getElementById('moon-result-1');
        const moonResult2El = document.getElementById('moon-result-2');

        // Set default dates
        moonDateInput1.value = "2006-11-21";
        moonDateInput2.value = "2007-04-11";

        const MOON_PHASES = [
            { name: 'New Moon', emoji: '🌑' },
            { name: 'Waxing Crescent', emoji: '🌒' },
            { name: 'First Quarter', emoji: '🌓' },
            { name: 'Waxing Gibbous', emoji: '🌔' },
            // Fixed typo: name:s: -> name:
            { name: 'Full Moon', emoji: '🌕' },
            { name: 'Waning Gibbous', emoji: '🌖' },
            { name: 'Third Quarter', emoji: '🌗' },
            { name: 'Waning Crescent', emoji: '🌘' },
        ];
        const KNOWN_NEW_MOON = new Date('2000-01-06T18:14:00Z').getTime();
        const LUNAR_CYCLE_MS = 29.530588853 * 24 * 60 * 60 * 1000;

        function getMoonPhase(date) {
            const targetTime = new Date(date).getTime();
            const msElapsed = targetTime - KNOWN_NEW_MOON;
            const phase = (msElapsed % LUNAR_CYCLE_MS) / LUNAR_CYCLE_MS;
            const normalizedPhase = phase < 0 ? phase + 1 : phase;
            const phaseIndex = Math.floor((normalizedPhase * 8 + 0.5) % 8);
            return MOON_PHASES[phaseIndex];
        }

        function displayMoonPhase(inputElement, resultElement) {
            const dateValue = inputElement.value;
            if (!dateValue) {
                // Fixed typo: class" -> class="
                resultElement.innerHTML = `<p class="text-red-500">Select date.</p>`;
                return;
            }
            const dateParts = dateValue.split('-');
            const selectedDate = new Date(dateParts[0], dateParts[1] - 1, dateParts[2]);
            const phase = getMoonPhase(selectedDate);
            const displayDate = selectedDate.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            resultElement.innerHTML = `
                <p class="text-gray-600 text-sm">${displayDate}:</p>
                <p class="text-5xl">${phase.emoji}</p>
                <p class="text-xl title-font text-pink-500">${phase.name}</p>
            `;
        }

        // Function to check both moon phases
        function checkBothMoonPhases() {
            displayMoonPhase(moonDateInput1, moonResult1El);
            displayMoonPhase(moonDateInput2, moonResult2El);
        }

        moonCheckBtn.addEventListener('click', checkBothMoonPhases);

        // Initially display moon phases for default dates
        checkBothMoonPhases();

        // --- === POLAROID GRID LOADER (Unchanged) === ---
        const memoryGrid = document.getElementById('memory-grid');
        const galleryPlaceholder = document.getElementById('gallery-placeholder');

        function loadMemoryGrid() {
            // Clear existing grid items before loading new ones
            memoryGrid.innerHTML = '';
            // Re-append placeholder temporarily if needed, though logic below handles it
            memoryGrid.appendChild(galleryPlaceholder);

            if (ourMemoriesData.length === 0) {
                galleryPlaceholder.style.display = 'block';
            } else {
                galleryPlaceholder.style.display = 'none';
                 // Ensure placeholder is removed if data exists
                if (galleryPlaceholder.parentNode === memoryGrid) {
                     memoryGrid.removeChild(galleryPlaceholder);
                }

                ourMemoriesData.sort(() => 0.5 - Math.random()); // Shuffle photos
                ourMemoriesData.forEach(memory => {
                    const container = document.createElement('div');
                    container.className = 'polaroid';
                    const rotation = Math.random() * 4 - 2; // Random tilt -2 to +2 degrees
                    container.style.transform = `rotate(${rotation}deg)`;

                    const img = document.createElement('img');
                    img.src = memory.image;
                    img.alt = memory.caption;
                    // Add fallback image more reliably
                    img.onerror = () => {
                        console.error("Failed to load image:", memory.image); // Log error
                        img.src = 'https://placehold.co/400x400/fce7f3/db2777?text=Image+Missing';
                        img.alt = 'Image failed to load';
                    };

                    const caption = document.createElement('p');
                    caption.className = 'polaroid-caption';
                    caption.textContent = memory.caption;

                    container.append(img, caption);
                    memoryGrid.appendChild(container);
                });
            }
        }


        // --- Cute Floating Hearts (Unchanged) ---
        function createHeart() {
            const heart = document.createElement('div');
            heart.innerHTML = '&#x2764;';
            heart.className = 'heart';
            heart.style.left = `${Math.random() * 100}vw`;
            heart.style.animationDuration = `${Math.random() * 2 + 8}s`;
            heart.style.opacity = Math.random();
            heart.style.fontSize = `${Math.random() * 10 + 10}px`;
            animationContainer.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 10000);
        }

        // --- Confetti Rain ---
        function createConfetti() {
            const confetti = document.createElement('div');
            const type = Math.random();
            if (type < 0.33) {
                confetti.className = 'confetti'; // Circle
            } else if (type < 0.66) {
                confetti.className = 'confetti square';
            } else {
                confetti.className = 'confetti triangle';
            }
            confetti.style.left = `${Math.random() * 100}vw`;
            // Add --duration variable for CSS
            confetti.style.setProperty('--duration', `${Math.random() * 3 + 5}s`);
            confetti.style.opacity = Math.random() * 0.7 + 0.3;
            confetti.style.transform = `scale(${Math.random() * 0.7 + 0.3})`; // size
            animationContainer.appendChild(confetti);
            // Use animation duration + buffer for removal
            setTimeout(() => { confetti.remove(); }, parseFloat(confetti.style.getPropertyValue('--duration')) * 1000 + 500);
        }


        // --- Sparkles ---
        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            const size = Math.random() * 8 + 4; // 4px to 12px
            sparkle.style.width = `${size}px`;
            sparkle.style.height = `${size}px`;
            sparkle.style.left = `${Math.random() * 100}vw`;
            sparkle.style.top = `${Math.random() * 100}vh`;
            sparkle.style.setProperty('--sparkle-duration', `${Math.random() * 2 + 1}s`); // 1-3 seconds
            animationContainer.appendChild(sparkle);
            // Use animation duration * 2 for removal (allows a full cycle)
            setTimeout(() => { sparkle.remove(); }, parseFloat(sparkle.style.getPropertyValue('--sparkle-duration')) * 2000);
        }


        // --- Initial Load ---
        setInterval(createHeart, 500); // Hearts every 0.5 seconds
        setInterval(createConfetti, 100); // Confetti every 0.1 seconds (for "rain")
        setInterval(createSparkle, 300); // Sparkles every 0.3 seconds
        loadMemoryGrid(); // Load the photo gallery

    </script>
</body>
</html>

